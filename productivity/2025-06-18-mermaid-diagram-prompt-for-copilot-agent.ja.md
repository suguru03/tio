# Copilot AgentのためのMermaid図表標準プロンプト作成

**日付:** 2025-06-18
**カテゴリー:** 生産性

> 🇨🇦 [English version](./2025-06-18-mermaid-diagram-prompt-for-copilot-agent.md)

## 何を改善したか

ドキュメントリポジトリ専用のMermaid図表を生成するための標準化されたプロンプトをCopilot Agent用に作成しました。この最適化は、ライトモードとダークモードの両方で適切に動作する、一貫性のあるテーマ対応図表の作成という課題に対処します。

## どのように行ったか

1. **Wikiからリポジトリベースのドキュメントへの移行**
   - 従来のWikiシステムから脱却し、Copilot Agentの機能を活用
   - より良いプロンプト統合を可能にするリポジトリ構造を設定

2. **テーマ対応図表生成の開発**
   - 当初はライトモードとダークモードの両方で動作する単一図表の作成を試みる
   - このアプローチが複雑で効果的でないことを発見
   - 各テーマに最適化された個別の図表生成にピボット

3. **標準化されたプロンプト構造の作成**
   - 適切なMermaid構文を一貫して生成するプロンプトを設計
   - テーマ固有のスタイリングと色設定を組み込み
   - 異なる表示環境でも図表の可読性を確保

4. **デュアルアウトプットシステムの実装**
   - スクリプトが各図表の2つのバージョンを生成：ライトモード用とダークモード用
   - 各バージョンはそれぞれのテーマに最適化
   - 視覚的要素を適応させながら構造の一貫性を維持

## 影響・効果

- **ドキュメント品質の向上**: 図表が一貫してフォーマットされ、テーマに適している
- **可読性の向上**: ユーザーは好みのテーマに関係なく最適な表示体験を得られる
- **手作業の削減**: 図表生成の自動化により繰り返しフォーマット作業を排除
- **Copilot統合の改善**: 従来のWikiシステムよりもAI機能を効果的に活用
- **スケーラブルなプロセス**: 標準化されたプロンプトにより、異なるドキュメントプロジェクト間で一貫した出力を確保

## 学んだこと

- **テーマの複雑性**: 両テーマ用の汎用図表作成は、最適化された個別バージョン作成よりも困難であることが判明
- **ツール選択の重要性**: Wikiからリポジトリベースのドキュメントへの移行により、より良いAI統合の可能性が開かれた
- **標準化の利益**: 一貫したプロンプトテンプレートにより出力品質が大幅に向上し、反復時間が短縮
- **関心の分離**: ライトモードとダークモードを個別に処理することで、各バリアントのより良い最適化が可能
- **AIツールの進化**: Copilot Agentは適切に活用すれば従来のドキュメントツールよりも洗練された機能を提供
